
type [Suit] is oneof (Hearts Spades Diamonds Clubs);

type [Rank] is oneof (A 2 3 4 5 6 7 8 9 10 J Q K);

type [Card] is ([Rank][Suit]);

type [Deck] is 52[Card]; 


//my_matrix : 3*3[i];

fn (a: [i]) + (b: [i]) makes [i] does {~I
  add @0, ?1
~} priority 1;

fn (a: [c]) + (b: [i]) makes [c] does {~I
  add @0, ?1
~} priority 1;

fn (a: [i]) - (b: [i]) makes [i] does {~I
  sub @0, ?1
~} priority 3;

fn exit (code: [i]) does {~I
  mov rdi, ?0
  mov rax, 0x2000001
  syscall
~};

fn printchar (char: [c]) does {~I
  mov rdi, 1
  lea rsi, ?0
  mov rdx, 1
  mov rax, 0x2000004
  syscall
~};

fn (a: [i]) * (b: [i]) makes [i] does {~I
  imul @0, ?1
~} priority 2;

fn (a: [i]) % (b: [i]) makes [i] does {
  return a + b;
} priority 2;

fn print_digit(d: [c]) does {
  char : [c] = (d + 48);
  printchar(char);
};


//fn -(n: [i]) makes [i] does {} priority 1;
d: [c] = 6;
print_digit(d);

d = 7;
print_digit(d);

char: [c] = 72;
printchar char;

char = 101;
printchar char;

char = 108;
printchar char;

printchar char;

char = 111;
printchar char;



exit 0;






